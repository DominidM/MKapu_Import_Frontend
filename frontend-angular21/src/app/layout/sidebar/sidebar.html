<div class="flex h-screen">
  <div class="sidebar-root flex flex-column h-full w-64">

    <!-- HEADER -->
    <div class="flex align-items-center justify-content-between px-4 py-3 border-bottom-1 surface-border">
      <div class="flex align-items-center gap-2">
        <div class="flex justify-content-center mb-3">
          <img src="/images/logo.jpg" alt="Logo MKapu" class="img-custom" />
        </div>
        <span class="font-bold text-sm">Mkapu Import</span>
      </div>
    </div>

    <div class="flex-1 overflow-auto p-2">

      <div class="mt-2" *ngIf="role === 'ventas'">
        <a class="flex align-items-center px-4 py-2 gap-2 cursor-pointer hover:surface-400"
          [routerLink]="'/ventas/dashboard-ventas'" routerLinkActive="bg-primary text-black border-round"
          style="text-decoration: none; color: white;">
          <i class="pi pi-bookmark"></i>
          <span>Dashboard</span>
        </a>
      </div>

      <div class="mt-2" *ngIf="role === 'ventas'">
        <a class="flex align-items-center px-4 py-2 gap-2 cursor-pointer hover:surface-400"
          [routerLink]="'/ventas/generar-venta'" routerLinkActive="bg-primary text-black border-round"
          style="text-decoration: none; color: white;">
          <i class="pi pi-bookmark"></i>
          <span>Generar Venta</span>
        </a>
      </div>

      <div class="mt-2" *ngIf="role === 'ventas'">
        <a class="flex align-items-center px-4 py-2 gap-2 cursor-pointer hover:surface-400"
          [routerLink]="'/ventas/historial-ventas'" routerLinkActive="bg-primary text-black border-round"
          style="text-decoration: none; color: white;">
          <i class="pi pi-bookmark"></i>
          <span>Historial Ventas</span>
        </a>
      </div>

      <div class="mt-2" *ngIf="role === 'almacen'">
        <a class="flex align-items-center px-4 py-2 gap-2 cursor-pointer hover:surface-400"
          [routerLink]="'/almacen/dashboard'" routerLinkActive="bg-primary text-black border-round"
          style="text-decoration: none; color: white;">
          <i class="pi pi-chart-line"></i>
          <span>Dashboard</span>
        </a>
      </div>


      <div class="mt-2" *ngIf="role === 'admin'">

        <!-- DASHBOARD ADMIN -->
        <a class="flex align-items-center px-4 py-2 gap-2 hover:surface-400" routerLink="/admin/dashboard"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-home"></i>
          <span>Dashboard</span>
        </a>

        <!-- ================== VENTAS ================== -->
        <div class="mt-3 font-bold text-xs px-4 text-gray-400">VENTAS</div>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/ventas/dashboard-ventas"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-chart-line"></i>
          <span>Dashboard Ventas</span>
        </a>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/ventas/generar-ventas"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-plus-circle"></i>
          <span>Crear Venta</span>
        </a>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/ventas/historial-ventas"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-list"></i>
          <span>Historial Ventas</span>
        </a>

        <div *ngIf="activeMenu === 'reportes'" class="ml-4">
          <a class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round" style="text-decoration: none; color: white;">
            Reporte Ventas
          </a>
          <a class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round" [routerLink]="'/admin/transferencia'"
            style="text-decoration: none; color: white;">
            Reporte Inventario
          </a>
        </div>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/almacen/dashboard"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-box"></i>
          <span>Dashboard Almacén</span>
        </a>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/admin/ingresos-almacen"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-download"></i>
          <span>Ingresos Almacén</span>
        </a>

  <a class="flex px-4 py-2 gap-2 hover:surface-400"
     routerLink="/admin/ingresos-almacen"
     routerLinkActive="bg-primary text-black border-round"
     style="color:white;text-decoration:none">
    <i class="pi pi-download"></i>
    <span>Ingresos Almacén</span>
  </a>

        <div *ngIf="activeMenu === 'ventas'" class="ml-4">
          <a
            class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round"
            style="text-decoration: none; color: white;"
          >
            Ventas
          </a>
        </div>
        <div *ngIf="activeMenu === 'ventas'" class="ml-4">
          <a
            class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round"
            [routerLink]="'/ventas/cliente'"
            style="text-decoration: none; color: white;"
          >
            Clientes
          </a>
        </div>
        <div *ngIf="activeMenu === 'ventas'" class="ml-4">
          <a
            class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round"
            [routerLink]="'/admin/historial-ventas-general'"
            style="text-decoration: none; color: white;"
          >
            Historial de Ventas General
          </a>
        </div>
        <div *ngIf="activeMenu === 'ventas'" class="ml-4">
          <a
            class="flex px-4 py-2 cursor-pointer hover:surface-400"
            routerLinkActive="bg-primary text-black border-round"
            [routerLink]="'/admin/generar-venta'"
            style="text-decoration: none; color: white;"
          >
            Generar Venta
          </a>
        </div>
        <div
          class="flex align-items-center px-4 py-2 gap-2 cursor-pointer hover:surface-400"
          (click)="toggleMenu('admin')"
        >
          <i class="pi pi-users"></i>
          <span class="flex-1">Administración</span>
          <i
            class="pi"
            [ngClass]="activeMenu === 'admin' ? 'pi-chevron-down' : 'pi-chevron-right'"
          ></i>
        </div>

  <a class="flex px-4 py-2 gap-2 hover:surface-400"
     routerLink="/admin/transferencia"
     routerLinkActive="bg-primary text-black border-round"
     style="color:white;text-decoration:none">
    <i class="pi pi-arrows-h"></i>
    <span>Transferencias</span>
  </a>


        <!-- ================== ADMINISTRACIÓN ================== -->
        <div class="mt-3 font-bold text-xs px-4 text-gray-400">ADMINISTRACIÓN</div>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/admin/usuarios"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-user-plus"></i>
          <span>Usuarios</span>
        </a>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/admin/gestion-productos"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-tags"></i>
          <span>Productos</span>
        </a>

        <a class="flex px-4 py-2 gap-2 hover:surface-400" routerLink="/admin/sedes"
          routerLinkActive="bg-primary text-black border-round" style="color:white;text-decoration:none">
          <i class="pi pi-building"></i>
          <span>Sedes</span>
        </a>

      </div>





    </div>

    <div class="mt-auto border-top-1 surface-border p-3 flex align-items-center gap-2">

      <p-avatar image="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png" shape="circle"></p-avatar>

      <span class="font-bold">
        {{ role ? (role | titlecase) : 'Invitado' }}
      </span>

      <p-button class="ml-auto" icon="pi pi-sign-out" severity="danger" (onClick)="confirm2($event)"></p-button>
    </div>

  </div>

  <p-toast></p-toast>
  <p-confirmdialog></p-confirmdialog>
</div>

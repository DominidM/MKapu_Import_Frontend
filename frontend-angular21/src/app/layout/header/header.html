<div class="app-header-card">
  <p-toolbar styleClass="app-toolbar">
    <ng-template pTemplate="start">
      <p-button
        icon="pi pi-bars"
        class="mr-2 menu-button"
        text
        severity="secondary"
        (onClick)="toggleSidebar.emit()"
      />

      @if (isVentas) {
        <span
          class="caja-status-dot"
          [ngClass]="caja() ? 'caja-abierta' : 'caja-cerrada'"
        ></span>
        <span class="caja-status-label">
          {{ caja() ? 'Caja abierta' : 'Caja cerrada' }}
        </span>
      }
    </ng-template>

    <ng-template pTemplate="end">
      <div class="header-bell-wrapper">
        <p-button
          icon="pi pi-bell"
          class="mr-2"
          text
          severity="secondary"
          [routerLink]="['/admin/notificaciones']"
        />
        @if (notifCount > 0) {
          <span class="header-bell-badge">{{ notifCount }}</span>
        }
      </div>
      <p-button
        [icon]="themeService.isDark() ? 'pi pi-sun' : 'pi pi-moon'"
        class="mr-2"
        text
        severity="secondary"
        (click)="toggleTheme()"
      />
    </ng-template>
  </p-toolbar>
</div>
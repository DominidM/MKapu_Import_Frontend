<div class="detalle-page">

    <!-- HEADER -->
    <div class="flex justify-content-between align-items-center mb-4">
  
      <div>
        <h2 class="mb-1">DETALLE DE CONTEO FINALIZADO</h2>
        <small>{{ conteo?.fecha }} - {{ conteo?.detalle }}</small>
      </div>
  
      <div class="flex gap-2">
        <p-button label="Regresar"
                  icon="pi pi-arrow-left"
                  severity="secondary"
                  (onClick)="regresar()">
        </p-button>
  
       
      </div>
  
    </div>
  
    <!-- RESUMEN -->
    <p-card class="mb-4">
  
      <div class="grid text-center">
  
        <div class="col-12 md:col-3">
          <h4>Total Sistema</h4>
          <h2>{{ totalSistema }}</h2>
        </div>
  
        <div class="col-12 md:col-3">
          <h4>Total Real</h4>
          <h2>{{ totalReal }}</h2>
        </div>
  
        <div class="col-12 md:col-3">
          <h4>Diferencia Neta</h4>
          <h2 [ngClass]="{
            'text-green-500': diferenciaNeta > 0,
            'text-red-500': diferenciaNeta < 0
          }">
            {{ diferenciaNeta }}
          </h2>
        </div>
  
        <div class="col-12 md:col-3">
          <h4>Exactitud</h4>
          <p-progressBar [value]="exactitud"></p-progressBar>
        </div>
  
      </div>
  
    </p-card>
  
    <!-- TABLA -->
    <p-card>
  
      <p-table [value]="productos">
  
        <ng-template pTemplate="header">
          <tr>
            <th>CÃ³digo</th>
            <th>Producto</th>
            <th>Stock Sistema</th>
            <th>Conteo Real</th>
            <th>Diferencia</th>
          </tr>
        </ng-template>
  
        <ng-template pTemplate="body" let-row>
          <tr>
            <td>{{ row.codigo }}</td>
            <td>{{ row.producto }}</td>
            <td>{{ row.stockSistema }}</td>
            <td>{{ row.conteoReal }}</td>
            <td>
              <span [ngClass]="{
                'text-green-500': calcularDiferencia(row) > 0,
                'text-red-500': calcularDiferencia(row) < 0
              }">
                {{ calcularDiferencia(row) }}
              </span>
            </td>
          </tr>
        </ng-template>
  
      </p-table>
  
    </p-card>
  
  </div>
  
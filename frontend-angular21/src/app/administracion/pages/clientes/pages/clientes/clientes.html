<div class="clientes-page">
    <p-card styleClass="clientes-header-card">
        <div class="flex align-items-center justify-content-between flex-wrap gap-3">
            <div class="flex align-items-center gap-3">
                <span class="clientes-title-icon">
                    <i class="pi pi-list"></i>
                </span>
                <div>
                    <p class="clientes-kicker">VENTAS - CLIENTES</p>
                    <h2 class="clientes-title">GESTION DE CLIENTES</h2>
                </div>
            </div>
            <div class="flex align-items-center gap-2">
                <p-button [routerLink]="['/admin/clientes/agregar-cliente']" label="Agregar Cliente" icon="pi pi-plus"
                    styleClass="clientes-pill"></p-button>
            </div>
        </div>
    </p-card>

    <p-card>
        <div class="flex flex-column lg:flex-row lg:align-items-center lg:justify-content-between gap-3">
            <div class="clientes-search flex align-items-center gap-2 flex-1 shadow-1"
                style="background: var(--surface-card); border-color: var(--surface-border);">
                <i class="pi pi-search text-500"></i>
                <input pInputText type="text" class="clientes-search-input" placeholder="Buscar cliente..."
                    style="background: transparent; color: var(--text-color);" [(ngModel)]="searchTerm" />
                <button class="clientes-clear" type="button" aria-label="Limpiar busqueda">
                    <i class="pi pi-times"></i>
                </button>
            </div>
            <div class="flex align-items-center gap-2">
                <p-button label="Limpiar Filtros" icon="pi pi-filter-slash" severity="danger"
                    styleClass="clientes-pill clientes-pill-danger"></p-button>
            </div>
        </div>
    </p-card>

    <p-card>
        <div class="flex align-items-center justify-content-between mb-3">
            <div class="flex align-items-center gap-2">
                <span class="clientes-section-icon">
                    <i class="pi pi-user"></i>
                </span>
                <span class="text-sm font-semibold text-700">CLIENTES</span>
                <p-tag [value]="'[' + clientes.length + '] Clientes'" severity="danger"></p-tag>
            </div>
            <p-button icon="pi pi-id-card" text severity="secondary" styleClass="clientes-icon-btn"></p-button>
        </div>
        <div class="card">
            <p-table 
            [value]="clientes" 
            [paginator]="true"
            [rows]="5"
            [rowsPerPageOptions]="[5, 10, 20]"
            [tableStyle]="{'min-width': '60rem'}">
                <ng-template #header>
                    <tr>
                        <th>Número de Documento </th>
                        <th>Razón Social</th>
                        <th>Nombres</th>
                        <th>Apellidos</th>
                        <th>Dirección</th>
                        <th>Email</th>
                        <th>Número Telefonico</th>
                        <th>Acciones</th>
                    </tr>
                </ng-template>
                <ng-template #body let-cliente>
                    <tr>
                        <td>{{ cliente.nro_documento }}</td>
                        <td>{{ cliente.razon_social }}</td>
                        <td>{{ cliente.nombres }}</td>
                        <td>{{ cliente.apellidos }}</td>
                        <td>{{ cliente.direccion }}</td>
                        <td>{{ cliente.email }}</td>
                        <td>{{ cliente.telefono }}</td>
                        <td>
                            <div class="flex align-items-center gap-2">
                                <p-button icon="pi pi-eye" text severity="secondary"
                                    styleClass="clientes-icon-btn clientes-icon-warn"
                                    [routerLink]="['/admin/clientes/vista-cliente']"></p-button>
                                <p-button icon="pi pi-pencil" text severity="secondary"
                                    styleClass="clientes-icon-btn clientes-icon-warn"
                                    [routerLink]="['/admin/clientes/editar-cliente']"></p-button>
                                <p-button icon="pi pi-trash" text severity="danger"
                                    styleClass="clientes-icon-btn"></p-button>
                            </div>
                        </td>
                    </tr>
                </ng-template>
                <ng-template #emptymessage>
                    <tr>
                        <td colspan="5">No customers found.</td>
                    </tr>
                </ng-template>
            </p-table>     
        </div>
    </p-card>
</div>
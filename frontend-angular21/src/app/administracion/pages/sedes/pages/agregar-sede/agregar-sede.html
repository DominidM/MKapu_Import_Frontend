<div class="agregar-sede-page">
  <p-card class="sedes-header-card">
    <div class="flex align-items-center justify-content-between flex-wrap gap-3">
      <div class="flex align-items-center gap-3">
        <span class="sedes-title-icon">
          <i class="pi pi-list"></i>
        </span>
        <div>
          <p class="sedes-kicker">ADMINISTRADOR - ADMINISTRACION - CREAR SEDE</p>
          <h2 class="sedes-title">GESTION DE SEDES</h2>
        </div>
      </div>
    </div>
  </p-card>

  <div class="flex align-items-center justify-content-between mb-4">
    <h2 class="sede-card-title">Crear Sede</h2>
    <p-button
      icon="pi pi-arrow-left"
      text
      severity="secondary"
      aria-label="Volver a sedes"
      [routerLink]="['/admin/sedes']"
    ></p-button>
  </div>

  <p-card class="sede-card border-none">
    <form #sedeForm="ngForm" novalidate>
    <div class="sede-section">
      <div class="sede-section-title">UBICACION:</div>
      <p-divider></p-divider>
    </div>

    <div class="grid form-grid">
      <div class="col-12 md:col-6">
        <label class="field-label" for="codigo">CODIGO:</label>
        <input
          id="codigo"
          pInputText
          class="w-full"
          placeholder="Ingrese datos"
          [(ngModel)]="sede.codigo"
          name="codigo"
          required
          #codigo="ngModel"
          [ngClass]="{ 'p-invalid': (sedeForm.submitted || codigo.touched) && codigo.invalid }"
        />
        <p-message
          *ngIf="(sedeForm.submitted || codigo.touched) && codigo.invalid"
          severity="error"
          text="El codigo es obligatorio."
        />
      </div>
      <div class="col-12 md:col-6">
        <label class="field-label" for="nombre">NOMBRE:</label>
        <input
          id="nombre"
          pInputText
          class="w-full"
          placeholder="Ingrese datos"
          [(ngModel)]="sede.nombre"
          name="nombre"
          required
          #nombre="ngModel"
          [ngClass]="{ 'p-invalid': (sedeForm.submitted || nombre.touched) && nombre.invalid }"
        />
        <p-message
          *ngIf="(sedeForm.submitted || nombre.touched) && nombre.invalid"
          severity="error"
          text="El nombre es obligatorio."
        />
      </div>
      <div class="col-12 md:col-6">
        <label class="field-label" for="ciudad">CIUDAD:</label>
        <input
          id="ciudad"
          pInputText
          class="w-full"
          placeholder="Ingrese datos"
          [(ngModel)]="sede.ciudad"
          name="ciudad"
          required
          #ciudad="ngModel"
          [ngClass]="{ 'p-invalid': (sedeForm.submitted || ciudad.touched) && ciudad.invalid }"
        />
        <p-message
          *ngIf="(sedeForm.submitted || ciudad.touched) && ciudad.invalid"
          severity="error"
          text="La ciudad es obligatoria."
        />
      </div>
      <div class="col-12 md:col-6">
        <label class="field-label" for="telefono">TELEFONO:</label>
        <p-inputnumber
          class="w-full"
          [(ngModel)]="sede.telefono"
          inputId="telefono"
          placeholder="Ingrese datos"
          [useGrouping]="false"
          [maxlength]="9"
          name="telefono"
          required
          #telefono="ngModel"
          [inputStyleClass]="(sedeForm.submitted || telefono.touched) && telefono.invalid ? 'p-invalid' : ''"
        />
        <p-message
          *ngIf="(sedeForm.submitted || telefono.touched) && telefono.invalid"
          severity="error"
          text="El telefono es obligatorio."
        />
      </div>
      <div class="col-12">
        <label class="field-label" for="departamento">DEPARTAMENTO:</label>
        <input
          id="departamento"
          pInputText
          class="w-full"
          placeholder="Ingrese datos"
          [(ngModel)]="sede.departamento"
          name="departamento"
          required
          #departamento="ngModel"
          [ngClass]="{ 'p-invalid': (sedeForm.submitted || departamento.touched) && departamento.invalid }"
        />
        <p-message
          *ngIf="(sedeForm.submitted || departamento.touched) && departamento.invalid"
          severity="error"
          text="El departamento es obligatorio."
        />
      </div>
      <div class="col-12">
        <label class="field-label" for="direccion">DIRECCION:</label>
        <input
          id="direccion"
          pInputText
          class="w-full"
          placeholder="Ingrese datos"
          [(ngModel)]="sede.direccion"
          name="direccion"
          required
          #direccion="ngModel"
          [ngClass]="{ 'p-invalid': (sedeForm.submitted || direccion.touched) && direccion.invalid }"
        />
        <p-message
          *ngIf="(sedeForm.submitted || direccion.touched) && direccion.invalid"
          severity="error"
          text="La direccion es obligatoria."
        />
      </div>
    </div>

    <p-divider></p-divider>

    <div class="flex align-items-center justify-content-center gap-3 mt-3">
      <p-button
        label="Cancelar"
        outlined
        severity="secondary"
        styleClass="sede-btn-cancel"
        (click)="confirmCancel()"
      ></p-button>
      <p-button
        label="Registrar Sede"
        icon="pi pi-check"
        styleClass="sede-btn-primary"
        (click)="saveSede(sedeForm)"
        [disabled]="sedeForm.invalid"
      ></p-button>
    </div>
    </form>
  </p-card>
  <p-toast position="top-right" />
  <p-confirmdialog />
</div>

<div class="sedes-page">
  <p-card styleClass="sedes-header-card">
    <div class="flex align-items-center justify-content-between flex-wrap gap-3">
      <div class="flex align-items-center gap-3">
        <span class="sedes-title-icon">
          <i class="pi pi-list"></i>
        </span>
        <div>
          <p class="sedes-kicker">ADMINISTRADOR - ADMINISTRACION - SEDE INACTIVAS</p>
          <h2 class="sedes-title">GESTION DE SEDES</h2>
        </div>
      </div>
      <div class="flex justify-items-end gap-2">
        <p-button label="Agregar Sede" icon="pi pi-plus" styleClass="sedes-pill"
          [routerLink]="['/admin/sedes/agregar-sede']"></p-button>
      </div>
    </div>
  </p-card>

  <p-card>
    <div class="flex flex-column lg:flex-row lg:align-items-center lg:justify-content-between gap-3">
      <div class="sedes-search flex align-items-center gap-2 flex-1 shadow-1"
        style="background: var(--surface-card); border-color: var(--surface-border);">
        <i class="pi pi-search text-500"></i>
        <input pInputText type="text" class="sedes-search-input" placeholder="Buscar sede..."
          style="background: transparent; color: var(--text-color);" [(ngModel)]="searchTerm" />
        <button class="sedes-clear" type="button" aria-label="Limpiar busqueda">
          <i class="pi pi-times"></i>
        </button>
      </div>
      <div class="flex align-items-center gap-2">
        <p-button label="Limpiar Filtros" icon="pi pi-filter-slash" severity="danger"
          styleClass="sedes-pill sedes-pill-danger"></p-button>
      </div>
    </div>
  </p-card>

  <p-card>
    <div class="flex align-items-center justify-content-between mb-3">
      <div class="flex align-items-center gap-2">
        <span class="sedes-section-icon">
          <i class="pi pi-user"></i>
        </span>
        <span class="text-sm font-semibold text-700">SEDES INACTIVAS</span>
        <p-tag [value]="'[' + sedes.length + '] Sedes'" severity="danger"></p-tag>
      </div>
      <p-button icon="pi pi-id-card" text severity="secondary" styleClass="sedes-icon-btn"></p-button>
    </div>

    <p-table [value]="sedes" styleClass="sedes-table" filterDisplay="row" [paginator]="true" [rows]="10"
      [rowsPerPageOptions]="[10, 25, 50]" [tableStyle]="{ 'min-width': '60rem' }">
      <ng-template pTemplate="header">
        <tr>
          <th>CODIGO</th>
          <th>NOMBRE</th>
          <th>CIUDAD</th>
          <th>TELEFONO</th>
          <th>DIRECCION</th>
          <th>ACCIONES</th>
        </tr>
        <tr>
          <th>
            <p-columnFilter type="text" field="codigo" placeholder="Buscar" ariaLabel="Filtrar Codigo">
            </p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="nombre" placeholder="Buscar" ariaLabel="Filtrar Nombre">
            </p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="ciudad" placeholder="Buscar" ariaLabel="Filtrar Ciudad">
            </p-columnFilter>
          </th>
          <th>
            <p-columnFilter field="telefono" type="numeric" matchMode="equals" [showMenu]="false"
              ariaLabel="Filtrar TelÃ©fono">
              <ng-template #filter let-value let-filter="filterCallback">
                <p-inputnumber class="w-full" [ngModel]="value" inputId="telefono" placeholder="Ingrese datos"
                  [useGrouping]="false" [maxlength]="9" />
              </ng-template>
            </p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="direccion" placeholder="Buscar" ariaLabel="Filtrar Direccion">
            </p-columnFilter>
          </th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-sede>
        <tr>
          <td>{{ sede.codigo }}</td>
          <td>{{ sede.nombre }}</td>
          <td>
            <span class="inline-flex align-items-center gap-2">
              <i class="pi pi-map-marker text-500"></i>
              {{ sede.ciudad }}
            </span>
          </td>
          <td>
            <span class="inline-flex align-items-center gap-2">
              <i class="pi pi-phone text-500"></i>
              {{ sede.telefono }}
            </span>
          </td>
          <td>{{ sede.direccion }}</td>
          <td>
            <div class="flex align-items-center gap-2">
              <p-button icon="pi pi-pencil" text severity="secondary" styleClass="sedes-icon-btn sedes-icon-warn"
                [routerLink]="['/admin/sedes/editar-sede']" [queryParams]="{ codigo: sede.codigo }"></p-button>
              <p-button icon="pi pi-trash" text severity="danger" styleClass="sedes-icon-btn"
                (click)="confirmDelete(sede)"></p-button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <p-confirmdialog />
  </p-card>


</div>

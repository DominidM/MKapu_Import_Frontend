<!-- ================================
     ADMINISTRACIÓN DE USUARIOS
================================ -->

<div class="usuarios-page">

    <!-- HEADER -->
    <p-card styleClass="usuarios-header-card">
      <div class="flex align-items-center justify-content-between flex-wrap gap-3">
  
        <!-- IZQUIERDA -->
        <div class="flex align-items-center gap-3">
          <span class="usuarios-title-icon">
            <i class="pi pi-users"></i>
          </span>
  
          <div>
            <p class="usuarios-kicker">
              ADMINISTRADOR - ADMINISTRACIÓN - USUARIOS
            </p>
            <h2 class="usuarios-title">
              GESTIÓN DE USUARIOS
            </h2>
          </div>
        </div>
  
        <!-- DERECHA -->
        <div class="flex justify-items-end gap-2">
          <p-button
            label="Nuevo Usuario"
            icon="pi pi-user-plus"
            styleClass="usuarios-pill"
            (onClick)="nuevoUsuario()"
          ></p-button>
        </div>
  
      </div>
    </p-card>
  
  <!-- BUSCADOR -->
  <section class="wizard-content mt-3">
    <p-card>
      <h4 class="mb-3">Buscar Usuario</h4>
  
      <div class="flex align-items-center gap-3">
        <input
          pInputText
          type="text"
          maxlength="8"
          placeholder="Ingrese DNI (8 dígitos)..."
          [(ngModel)]="filtroDni"
          class="w-full"
        />
  
        <button
          pButton
          icon="pi pi-filter-slash"
          label="Limpiar"
          severity="danger"
          (click)="limpiarFiltro()"
        ></button>
      </div>
    </p-card>
  </section>
  
  <!-- TABLA -->
  <section class="wizard-content mt-4">
    <p-card>
      <div class="flex align-items-center gap-2 mb-3">
        <i class="pi pi-user"></i>
        <strong>Usuarios</strong>
        <p-tag 
          [value]="totalusers + ' Usuarios'"
          severity="info"
        ></p-tag>
      </div>
  
      <p-table
        [value]="users"
        responsiveLayout="scroll"
        class="p-datatable-sm"
        [rows]="5"
        [paginator]="true"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>Usuario</th>
            <th>Rol</th>
            <th>Sede</th>
            <th>Estado</th>
            <th style="width: 80px">Acciones</th>
          </tr>
        </ng-template>
  
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>
              <strong>{{ user.usu_nom }}</strong>
              <div class="helper-text">DNI: {{ user.dni }}</div>
            </td>
  
            <td>{{ user.rol }}</td>
            <td>{{ user.sede }}</td>
  
            <td>
              <p-tag
                [value]="user.activo"
                [severity]="user.activo == true ? 'success' : 'danger'"
              ></p-tag>
            </td>
  
            <td class="text-center">
              <button
                pButton
                icon="pi pi-eye"
                class="p-button-text p-button-sm"
              ></button>
            </td>
          </tr>
        </ng-template>
        
        
      </p-table>
    </p-card>
  </section>
  
  </div>
  